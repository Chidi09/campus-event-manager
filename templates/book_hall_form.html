{% extends "base.html" %}

{% block title %}Book Hall: {{ hall.name }}{% endblock %}

{% block content %}
<div class="main-content-container">
    <div class="form-card">
        <h2>Request Booking for: {{ hall.name }}</h2>
        <p><strong>Capacity:</strong> {{ hall.capacity }}</p>
        <p><strong>Location:</strong> {{ hall.location_details if hall.location_details else 'N/A' }}</p>
        <hr style="margin: 20px 0;">

        <form method="POST" action="{{ url_for('book_hall_request', hall_id=hall.id) }}" class="styled-form">
            {{ form.hidden_tag() }}

            <div class="form-row">
                <div class="form-group column">
                    {{ form.requested_date.label(class="form-label") }}
                    {{ form.requested_date(class="form-control") }}
                    {% if form.requested_date.errors %}<div class="errors">{% for error in form.requested_date.errors %}<span>{{ error }}</span>{% endfor %}</div>{% endif %}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group column">
                    {{ form.start_time.label(class="form-label") }}
                    {{ form.start_time(class="form-control") }}
                    {% if form.start_time.errors %}<div class="errors">{% for error in form.start_time.errors %}<span>{{ error }}</span>{% endfor %}</div>{% endif %}
                </div>
                <div class="form-group column">
                    {{ form.end_time.label(class="form-label") }}
                    {{ form.end_time(class="form-control") }}
                    {% if form.end_time.errors %}<div class="errors">{% for error in form.end_time.errors %}<span>{{ error }}</span>{% endfor %}</div>{% endif %}
                </div>
            </div>
            
            <div class="form-group">
                {{ form.purpose.label(class="form-label") }}
                {{ form.purpose(class="form-control", rows=4) }}
                {% if form.purpose.errors %}<div class="errors">{% for error in form.purpose.errors %}<span>{{ error }}</span>{% endfor %}</div>{% endif %}
            </div>
            
            <div class="form-group">
                {{ form.event_id.label(class="form-label") }}
                {{ form.event_id(class="form-control") }}
                {% if form.event_id.errors %}<div class="errors">{% for error in form.event_id.errors %}<span>{{ error }}</span>{% endfor %}</div>{% endif %}
            </div>
            
            <div class="form-group">
                {{ form.submit() }}
            </div>
        </form>
    </div>

    <p style="text-align: center; margin-top: 20px;">
        <a href="{{ url_for('list_halls') }}" class="button-link-styled">Back to Halls List</a>
    </p>
</div>
{% endblock %}